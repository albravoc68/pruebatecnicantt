-- H2 2.2.224;
;             
CREATE USER IF NOT EXISTS SA SALT '5b9aa9db59ae6947' HASH '73b49da842a7a39901c2ee393b77db713995b4112e1b68d14d292eda7bb8eeff' ADMIN;         
CREATE SEQUENCE PUBLIC.PHONES_SEQ START WITH 1 INCREMENT BY 1;            
CREATE CACHED TABLE PUBLIC.PHONES(
    ID INTEGER DEFAULT NEXTVAL('PHONES_SEQ') NOT NULL,
    USER_ID CHARACTER VARYING(36),
    PHONE_NUMBER NUMERIC(20),
    CITYCODE NUMERIC(10),
    COUNTRYCODE NUMERIC(10)
);       
ALTER TABLE PUBLIC.PHONES ADD CONSTRAINT PUBLIC.CONSTRAINT_8 PRIMARY KEY(ID);
CREATE CACHED TABLE PUBLIC.USERS(
    ID CHARACTER VARYING(36) NOT NULL,
    CREATION_DATETIME TIMESTAMP,
    MODIFIED TIMESTAMP,
    LAST_LOGIN TIMESTAMP,
    ISACTIVE TINYINT,
    NAME CHARACTER VARYING(255),
    EMAIL CHARACTER VARYING(255),
    PASSWORD CHARACTER VARYING(255)
);      
ALTER TABLE PUBLIC.USERS ADD CONSTRAINT PUBLIC.CONSTRAINT_4 PRIMARY KEY(ID);             
ALTER TABLE PUBLIC.PHONES ADD CONSTRAINT PUBLIC.CONSTRAINT_8C FOREIGN KEY(USER_ID) REFERENCES PUBLIC.USERS(ID) NOCHECK;       
